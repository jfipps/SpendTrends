{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='chart.css')}}">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="static/charts.js"></script>
    {{ JSGlue.include() }}
{% endblock %}

{% block title %}Charts{% endblock %}
{% block content %}
    <div class="container pt-4">
        <h1>{{title}}</h1>
        <form id="pie_form" method="post" action="{{ url_for('home')}}">
            <div id="pie_category"></div>
            <div id="pie_vendor"></div>
            <div id="pie_card"></div>
            <input type="hidden" id="category_filter" name="category_filter" value="">
            <input type="hidden" id="vendor_filter" name="vendor_filter" value="">
            <input type="hidden" id="card_filter" name="card_filter" value="">
            <input type="hidden" id="date_select" name="date_select" value="">
        </form>
        <script type="text/javascript">
            drawCategoryCaller('{{pie_category | tojson}}');
            drawVendorCaller('{{pie_vendor | tojson}}');
            drawCardCaller('{{pie_card | tojson}}');
        </script>
    </div>
{% endblock %}