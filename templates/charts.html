{% extends "base.html" %}

{% block head %}
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='chart.css')}}">
    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
    <script type="text/javascript" src="static/charts.js"></script>
    {{ JSGlue.include() }}
{% endblock %}

{% block title %}Charts{% endblock %}
{% block content %}
    <div class="container pt-4">
        <h1>{{title}}</h1>
        <form id="pieForm" method="post" action="{{ url_for('home')}}">
            <div id="piechart" width="800" height="650"></div>
            <input type="hidden" id="category_filter" name="category_filter" value="">
            <input type="hidden" id="vendor_filter" name="vendor_filter" value="">
            <input type="hidden" id="card_filter" name="card_filter" value="">
            <input type="hidden" id="dateSelect" name="dateSelect" value="">
        </form>
        <script type="text/javascript">
            draw('{{pie_count | tojson}}');
        </script>
    </div>
{% endblock %}